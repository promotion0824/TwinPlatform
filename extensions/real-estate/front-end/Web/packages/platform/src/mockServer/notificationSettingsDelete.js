import _ from 'lodash'
import { rest } from 'msw'

export const defaultNotificationSettingsList = [
  {
    id: '0e48cd4c-1b2f-4eaa-b3f8-0068b425c28a',
    type: 'workgroup',
    source: 'insight',
    focus: 'skill',
    channels: ['inApp'],
    locations: ['SITEFhJhVrRwyDLAmQ6M3HUBN6'],
    isEnabled: true,
    canUserDisableNotification: true,
    createdBy: '4ee803fb-2f44-4fcd-9ed1-eee836c487cd',
    createdDate: '2024-07-25T19:18:18.110Z',
    workgroupIds: ['a4d842df-6689-4e89-8f55-9c994550b8d8'],
    priorityIds: [4, 3, 2, 1],
    skillIds: ['air-pressure-sensor-unchanging', 'pressure-sensor-unchanging'],
  },
  {
    id: 'a6d21380-1464-457a-91f6-01fa97f9ffee',
    type: 'workgroup',
    source: 'insight',
    focus: 'skill',
    channels: ['inApp'],
    locations: ['CI-Site1'],
    isEnabled: true,
    canUserDisableNotification: true,
    createdBy: '4ee803fb-2f44-4fcd-9ed1-eee836c487cd',
    createdDate: '2024-07-25T23:35:37.983Z',
    workgroupIds: ['9dbb0cc7-1756-4383-84d6-d7b4280a8223'],
    priorityIds: [4, 3, 2, 1],
    skillIds: ['temperature-sensor-outside-plausible-range'],
  },
  {
    id: '8ef6c3b9-c91c-494d-bd20-070807e22440',
    type: 'workgroup',
    source: 'insight',
    focus: 'skillCategory',
    channels: ['inApp'],
    locations: ['CI-Site1', 'CI-Site2'],
    isEnabled: true,
    canUserDisableNotification: true,
    createdBy: '4ee803fb-2f44-4fcd-9ed1-eee836c487cd',
    createdDate: '2024-07-25T22:02:33.343Z',
    workgroupIds: [
      'a4d842df-6689-4e89-8f55-9c994550b8d8',
      '9dbb0cc7-1756-4383-84d6-d7b4280a8223',
    ],
    priorityIds: [4, 3, 2],
    skillCategoryIds: [1, 2, 3, 4, 10, 11, 12, 16],
  },
  {
    id: '55f0db29-575f-424a-8e64-0e80ec34d612',
    type: 'workgroup',
    source: 'insight',
    focus: 'skill',
    channels: ['inApp'],
    locations: ['CI-Site1'],
    isEnabled: true,
    canUserDisableNotification: true,
    createdBy: '4ee803fb-2f44-4fcd-9ed1-eee836c487cd',
    createdDate: '2024-07-25T23:15:55.170Z',
    workgroupIds: ['a4d842df-6689-4e89-8f55-9c994550b8d8'],
    priorityIds: [4, 3],
    skillIds: ['pressure-sensor-unchanging'],
  },
  {
    id: 'e7446b33-f9e9-4306-89d1-13f66f03eb66',
    type: 'personal',
    source: 'insight',
    focus: 'skillCategory',
    channels: ['inApp'],
    locations: [],
    isEnabled: true,
    canUserDisableNotification: false,
    createdBy: 'de503abc-37f7-4a0f-bb45-4801258bcd9c',
    createdDate: '2024-07-18T18:01:13.033Z',
    priorityIds: [4, 3, 2, 1],
    skillCategoryIds: [1, 2, 3, 4, 10, 11, 12, 16],
  },
  {
    id: '64860710-5a78-418c-9b8c-163f37f4b0ef',
    type: 'personal',
    source: 'insight',
    focus: 'skillCategory',
    channels: ['inApp'],
    locations: ['CI-Site1', 'SITEFhJhVrRwyDLAmQ6M3HUBN6'],
    isEnabled: true,
    canUserDisableNotification: true,
    createdBy: '4ee803fb-2f44-4fcd-9ed1-eee836c487cd',
    createdDate: '2024-07-26T18:05:26.227Z',
    priorityIds: [4, 3, 2],
    skillCategoryIds: [1, 2, 3, 4, 10, 11, 12, 16],
  },
  {
    id: '2c1a0f39-1534-4814-84e8-1829fa7e427f',
    type: 'workgroup',
    source: 'insight',
    focus: 'skillCategory',
    channels: ['inApp'],
    locations: ['CI-Site1', 'CI-Site2'],
    isEnabled: true,
    canUserDisableNotification: true,
    createdBy: '4ee803fb-2f44-4fcd-9ed1-eee836c487cd',
    createdDate: '2024-07-25T22:11:25.783Z',
    workgroupIds: [
      'f5c238be-92e7-4f09-ace3-3c85956b4120',
      'f1b28e6d-2bb7-4f6f-b0e3-798faa965375',
      'a4d842df-6689-4e89-8f55-9c994550b8d8',
      '9dbb0cc7-1756-4383-84d6-d7b4280a8223',
    ],
    priorityIds: [4, 3, 2],
    skillCategoryIds: [1, 2, 3, 4, 10, 11, 12, 16],
  },
  {
    id: '95cbda20-53e5-4bae-9a5a-18dc41e40654',
    type: 'workgroup',
    source: 'insight',
    focus: 'skillCategory',
    channels: ['inApp'],
    locations: ['CI-Site1', 'CI-Site2', 'SITEFhJhVrRwyDLAmQ6M3HUBN6'],
    isEnabled: true,
    canUserDisableNotification: true,
    createdBy: '4ee803fb-2f44-4fcd-9ed1-eee836c487cd',
    createdDate: '2024-07-26T18:03:55.260Z',
    workgroupIds: [
      'a4d842df-6689-4e89-8f55-9c994550b8d8',
      '9dbb0cc7-1756-4383-84d6-d7b4280a8223',
    ],
    priorityIds: [4, 3, 2],
    skillCategoryIds: [1, 2, 3],
  },
  {
    id: '6a6fdf99-7e91-4e9f-bc12-19747c2a4ae1',
    type: 'workgroup',
    source: 'insight',
    focus: 'skillCategory',
    channels: ['inApp'],
    locations: [],
    isEnabled: true,
    canUserDisableNotification: true,
    createdBy: '4ee803fb-2f44-4fcd-9ed1-eee836c487cd',
    createdDate: '2024-07-25T22:34:39.733Z',
    workgroupIds: [
      'a4d842df-6689-4e89-8f55-9c994550b8d8',
      '9dbb0cc7-1756-4383-84d6-d7b4280a8223',
    ],
    priorityIds: [4, 3],
    skillCategoryIds: [1, 2],
  },
  {
    id: 'c31f063e-4857-4599-b70f-1a80b02b8028',
    type: 'workgroup',
    source: 'insight',
    focus: 'skill',
    channels: ['inApp'],
    locations: ['CI-Site1'],
    isEnabled: true,
    canUserDisableNotification: true,
    createdBy: '4ee803fb-2f44-4fcd-9ed1-eee836c487cd',
    createdDate: '2024-07-25T23:22:35.803Z',
    workgroupIds: ['a4d842df-6689-4e89-8f55-9c994550b8d8'],
    priorityIds: [4, 3],
    skillIds: ['air-pressure-sensor-unchanging'],
  },
  {
    id: '2704578c-b804-4894-b094-2a823e83b358',
    type: 'personal',
    source: 'insight',
    focus: 'skill',
    channels: ['inApp'],
    locations: ['CI-Site1'],
    isEnabled: true,
    canUserDisableNotification: true,
    createdBy: '4ee803fb-2f44-4fcd-9ed1-eee836c487cd',
    createdDate: '2024-07-26T19:50:18.627Z',
    priorityIds: [4, 3, 1],
    skillIds: ['air-pressure-sensor-unchanging', 'pressure-sensor-unchanging'],
  },
  {
    id: 'df2e0e4f-1aa8-4b15-afd8-2e52a426b286',
    type: 'workgroup',
    source: 'insight',
    focus: 'skill',
    channels: ['inApp'],
    locations: ['CI-Site1', 'CI-Site2'],
    isEnabled: true,
    canUserDisableNotification: true,
    createdBy: '4ee803fb-2f44-4fcd-9ed1-eee836c487cd',
    createdDate: '2024-07-24T16:09:58.343Z',
    workgroupIds: ['9dbb0cc7-1756-4383-84d6-d7b4280a8223'],
    priorityIds: [4, 3, 2, 1],
    skillIds: ['temperature-sensor-outside-plausible-range'],
  },
  {
    id: '1fb76b65-64ad-4e39-8b28-2f38cd4c3a84',
    type: 'workgroup',
    source: 'insight',
    focus: 'skillCategory',
    channels: ['inApp'],
    locations: ['CI-Site1', 'CI-Site2', 'SITEFhJhVrRwyDLAmQ6M3HUBN6'],
    isEnabled: true,
    canUserDisableNotification: true,
    createdBy: '4ee803fb-2f44-4fcd-9ed1-eee836c487cd',
    createdDate: '2024-07-26T13:47:27.900Z',
    workgroupIds: [
      'f5c238be-92e7-4f09-ace3-3c85956b4120',
      'f1b28e6d-2bb7-4f6f-b0e3-798faa965375',
      'a4d842df-6689-4e89-8f55-9c994550b8d8',
      '9dbb0cc7-1756-4383-84d6-d7b4280a8223',
    ],
    priorityIds: [4, 3, 2],
    skillCategoryIds: [1, 2],
  },
  {
    id: '8fa0bcac-cf29-40d6-abca-30a21b1c2971',
    type: 'workgroup',
    source: 'insight',
    focus: 'skillCategory',
    channels: ['inApp'],
    locations: [],
    isEnabled: true,
    canUserDisableNotification: false,
    createdBy: '4ee803fb-2f44-4fcd-9ed1-eee836c487cd',
    createdDate: '2024-07-19T17:27:24.323Z',
    workgroupIds: [
      'f5c238be-92e7-4f09-ace3-3c85956b4120',
      'f1b28e6d-2bb7-4f6f-b0e3-798faa965375',
      'a4d842df-6689-4e89-8f55-9c994550b8d8',
      '9dbb0cc7-1756-4383-84d6-d7b4280a8223',
    ],
    priorityIds: [4, 3, 2],
    skillCategoryIds: [1, 2, 3],
  },
  {
    id: 'd2cf84d9-5f3d-4829-8019-30badc333e17',
    type: 'workgroup',
    source: 'insight',
    focus: 'skill',
    channels: ['inApp'],
    locations: ['CI-Site1', 'CI-Site2'],
    isEnabled: true,
    canUserDisableNotification: true,
    createdBy: '4ee803fb-2f44-4fcd-9ed1-eee836c487cd',
    createdDate: '2024-07-24T16:09:57.757Z',
    workgroupIds: ['9dbb0cc7-1756-4383-84d6-d7b4280a8223'],
    priorityIds: [4, 3, 2, 1],
    skillIds: ['temperature-sensor-outside-plausible-range'],
  },
  {
    id: '74354233-918a-424f-b1a6-34904134f760',
    type: 'workgroup',
    source: 'insight',
    focus: 'skill',
    channels: ['inApp'],
    locations: ['CI-Site2'],
    isEnabled: true,
    canUserDisableNotification: true,
    createdBy: '4ee803fb-2f44-4fcd-9ed1-eee836c487cd',
    createdDate: '2024-07-25T23:27:35.647Z',
    workgroupIds: ['9dbb0cc7-1756-4383-84d6-d7b4280a8223'],
    priorityIds: [4, 3, 2, 1],
    skillIds: ['air-pressure-sensor-unchanging'],
  },
  {
    id: '3eef8ea6-6a34-48e5-ab00-34d1e4dc71a7',
    type: 'workgroup',
    source: 'insight',
    focus: 'skillCategory',
    channels: ['inApp'],
    locations: ['CI-Site1', 'CI-Site2'],
    isEnabled: true,
    canUserDisableNotification: true,
    createdBy: '4ee803fb-2f44-4fcd-9ed1-eee836c487cd',
    createdDate: '2024-07-25T21:54:57.817Z',
    workgroupIds: [
      'f5c238be-92e7-4f09-ace3-3c85956b4120',
      'f1b28e6d-2bb7-4f6f-b0e3-798faa965375',
      'a4d842df-6689-4e89-8f55-9c994550b8d8',
      '9dbb0cc7-1756-4383-84d6-d7b4280a8223',
    ],
    priorityIds: [4, 3, 2, 1],
    skillCategoryIds: [1, 2],
  },
  {
    id: 'f900cb8f-de36-4641-9802-3912c0646f26',
    type: 'workgroup',
    source: 'insight',
    focus: 'skillCategory',
    channels: ['inApp'],
    locations: [],
    isEnabled: true,
    canUserDisableNotification: true,
    createdBy: '4ee803fb-2f44-4fcd-9ed1-eee836c487cd',
    createdDate: '2024-07-26T15:38:48.793Z',
    workgroupIds: [
      'a4d842df-6689-4e89-8f55-9c994550b8d8',
      '9dbb0cc7-1756-4383-84d6-d7b4280a8223',
    ],
    priorityIds: [4, 2],
    skillCategoryIds: [1, 2],
  },
  {
    id: '1d0c765b-fbcd-4bc5-97cc-3c024c5b8469',
    type: 'workgroup',
    source: 'insight',
    focus: 'twinCategory',
    channels: ['inApp'],
    locations: ['CI-Site1'],
    isEnabled: true,
    canUserDisableNotification: true,
    createdBy: '4ee803fb-2f44-4fcd-9ed1-eee836c487cd',
    createdDate: '2024-07-26T16:36:01.150Z',
    workgroupIds: ['a4d842df-6689-4e89-8f55-9c994550b8d8'],
    priorityIds: [4, 3],
    twinCategoryIds: ['dtmi:com:willowinc:Asset;1'],
  },
]

export function makeHandlers(
  initialNotificationSettingsList = defaultNotificationSettingsList
) {
  // The reorder endpoint will mutate this.
  const notificationSettingsList = _.cloneDeep(initialNotificationSettingsList)

  const handlers = [
    rest.delete('/:region/api/notifications/triggers/:id', (req, res, ctx) =>
      res(ctx.json(req.body))
    ),
  ]

  return {
    handlers,
    state: notificationSettingsList,
    reset: () => {
      notificationSettingsList.splice(
        0,
        notificationSettingsList.length,
        ..._.cloneDeep(initialNotificationSettingsList)
      )
    },
  }
}
