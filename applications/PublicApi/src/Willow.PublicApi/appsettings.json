{
  "Logging": {
    "LogLevel": {
      "Default": "Warning",
      "Willow": "Information",
      "Microsoft.Hosting.Lifetime": "Information",
      "Azure": "Warning",
      "Azure.Messaging": "Warning",
      "Azure.Messaging.EventHubs": "Warning",
      "Azure.Core": "Warning",
      "Azure.Storage": "Warning",
      "Azure.Storage.Queues": "Warning",
      "Azure.Storage.Blobs": "Warning",
      "Microsoft.AspNetCore.Hosting.Diagnostics": "Warning",
      "System.Net.Http.HttpClient": "Warning",
      "Yarp": "Debug"
    }
  },
  "EnableV3": true,
  "AdtApi": {
    "BaseAddress": "http://adt-api"
  },
  "ReverseProxyV1V2": {
    "Routes": {
      "V1": {
        "ClusterId": "PublicApiV1",
        "Match": {
          "Path": "/v1/{**catch-all}"
        },
        "AuthorizationPolicy": "Anonymous"
      },
      "V2": {
        "ClusterId": "PublicApiV2",
        "Match": {
          "Path": "/v2/{**catch-all}"
        },
        "AuthorizationPolicy": "Anonymous"
      }
    },
    "Clusters": {
      "v1": {
        "Destinations": {
          "Default": {
            "Address": "http://publicapi",
            "Swaggers": [
              {
                "PrefixPath": "",
                "Paths": [
                  "/swagger/v1/swagger.json"
                ]
              }
            ]
          }
        }
      },
      "v2": {
        "Destinations": {
          "PublicAPIV1V2": {
            "Address": "http://publicapi",
            "Swaggers": [
              {
                "PrefixPath": "",
                "Paths": [
                  "/swagger/v2/swagger.json"
                ]
              }
            ]
          }
        },
        "Metadata": {
          "HealthCheck": "Federated"
        }
      }
    }
  },
  "ReverseProxy": {
    "Routes": {
      "Token": {
        "ClusterId": "OAuth",
        "Match": {
          "Path": "v3/oauth2/token",
          "Methods": [
            "POST"
          ]
        },
        "AuthorizationPolicy": "Anonymous",
        "Transforms": [
          {
            "PathPattern": ""
          },
          {
            "BodyFormParameter": "scope",
            "Append": ""
          },
          {
            "OriginHeader":  ""
          }
        ]
      }
    },
    "Clusters": {
      "OAuth": {
        "Destinations": {
          "Token": {
            "Address": "https://login.microsoftonline.com/",
            "Swaggers": []
          }
        },
        "Metadata": {
          "HealthCheck": "Ping"
        }
      }
    },
    "Swagger": {
      "IsCommonDocument": false,
      "CommonDocumentName": "v3"
    }
  },
  "OpenTelemetry": {
    "AddHttpClientInstrumentation": false
  },
  "ApplicationInsights": {
    "LogLevel": {
      "Default": "Warning"
    },
    "CloudRoleName": "PublicApiv3",
    "ConnectionString": "",
    "Ignore": {
      "Requests": {
        "Names": [],
        "Paths": [
          "/swagger",
          "/healthz",
          "/readyz",
          "/livez"
        ]
      },
      "Dependencies": {
        "Names": []
      }
    }
  },
  "AllowedHosts": "*",
  "AuthorizationAPI": {
    "BaseAddress": "http://authrz-api",
    "TokenAudience": "api://8c74e778-9a35-473b-bbf0-4b0e9cc6000e",
    "APITimeoutMilliseconds": "25000",
    "ExtensionName": "PublicApiV3"
  }
}
