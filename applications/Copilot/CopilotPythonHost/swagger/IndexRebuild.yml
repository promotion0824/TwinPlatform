tags:
  - Indexing
parameters:
  - in: body
    name: IndexRebuildRequest
    schema:
        id: IndexRebuildRequest
        type: object
        required: []
        properties:
            delete_and_recreate_index:
                type: boolean
                description: If the entire index shuold be dropped and recreated (Default = True)
            run_in_background:
                type: boolean
                description: True to return immediately, False to run syncronously. (Default = True)
            index_name:
                type: string
                description: The name of the index to use - for debugging and A/B testing (Normally should be omitted)
            generate_summaries_mode:
                type: string
                description: When to generate document summaries - ifNewer | Off | force (Default = ifNewer)
            generate_index_mode:
                type: string
                description: When to generate document indexes - ifNewer | Off | force (Default = ifNewer)
            num_threads:
                type: int
                description: Number of thread pool threads to use to index files in parallel
            chunk_size:
                type: int
                description: Size of document chunk in characters
            chunk_overlap:
                type: int
                description: Size of document chunk overlap in characters
            include_chunkdocs_for_copilot_disabled_files:
                type: boolean
                description: >
                    Include doc chunks even if metadata indicates file is no copilot-enabled.
                    wholeDoc and summary documents will always be created if specified.
            indexing_strategy:
                type: string
                description: >
                    The optional strategy used to index the document
                    'overlap' | 'page-overlap'

responses:
    200:
        description: Requested rebuild opertion has completed sucessfully
        schema:
          id: IndexRebuildResponse
          type: object
          properties:
              status:
                  type: string
                  description: Status (OK) of the indexing request
              job_id:
                  type: string
                  description: If run_in_background, then the job_id, otherwise 0
    202:
        description: Requested rebuild opertion has started sucessfully
        schema:
          id: IndexRebuildResponse
          type: object
          properties:
              status:
                  type: string
                  description: Status (Started | AlreadyInProgress) of the indexing request
              job_id:
                  type: string
                  description: The job id of the idexing job

    400:
      description: Bad request
    500:
      description: Internal server error


