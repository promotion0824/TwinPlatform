{
  "Logging": {
    "LogLevel": {
      "Default": "Debug",
      "Microsoft": "Warning",
      "Microsoft.AspNetCore.Server.Kestrel.Connections": "Warning",
      "Microsoft.Hosting.Lifetime": "Warning",
      "System.Net.Http.HttpClient": "Warning",
      "p.MonitoredActivity": "Warning",
      "p.RestClient2": "Critical",
      "DocDBTrace": "Critical",
      "Azure-core": "Warning",
      "Azure.Messaging.ServiceBus": "Warning",
      "Azure-Messaging-ServiceBus": "Warning",
      "System.Net.Http.HttpClient.HealthCheck": "Warning",
      "Microsoft.Extensions.Diagnostics.HealthChecks": "Critical",
      "Microsoft.Extensions.Diagnostics.HealthChecks.DefaultHealthCheckService": "Critical",
      "Azure": "Warning"
    },
    "Console": {
      "IncludeScopes": false,
      "TimestampFormat": "[yyyy-MM-dd HH:mm:ss] "
    }
  },
  //Connection string set by pulumi
  "ApplicationInsights": {
    "LogLevel": {
      "Default": "Information"
    },
    "CloudRoleName": "RulesEngine.Web"
  },
  "AllowedHosts": "*",
  "Rules": {
    "KeyVaultUri": "YOU NEED TO SET THIS IN ENVVARS OR DEV APPSETTINGS",
    "PublicApi": {
      "Uri": "https://api.willowinc.com"
    },
    "SearchApi": {
      "Uri": "https://sbx-rules-engine-search.search.windows.net"
    }
  },
  "ServiceBus": {
    "Namespace": "rules-engine.servicebus.windows.net",
    "Receive": {
      "TopicName": "%COMPUTERNAME%-%USERNAME%-rule-execution-response",
      "SubscriptionName": "microsoft-prod"
    },
    "Send": {
      "TopicName": "%COMPUTERNAME%-%USERNAME%-rule-execution"
    }
  },
  "Jwt": {
    "Authority": "https://willowidentity.b2clogin.com/willowidentity.onmicrosoft.com/B2C_1A_SeamlessMigration_SignUpOrSignIn",
    "Issuer": "https://willowidentity.b2clogin.com/540c8929-ab7e-478f-b401-cbd037da66bd/v2.0/",
    "Audience": "ebb53e69-b5be-454d-928e-a2e69cdcdfc7"
  },
  "AzureApplication": {
    "AppId": "b5586a06-5e3d-4d2a-aee3-5f39abfcb34b",
    "TenantId": "540c8929-ab7e-478f-b401-cbd037da66bd",
    "GraphApiUrl": "https://graph.microsoft.com/v1.0",
    "Redirect": "http://localhost:5050",
    "BaseUrl": "/",
    "BaseApi": "/",
    "ClientId": "b5586a06-5e3d-4d2a-aee3-5f39abfcb34b",
    "Authority": "https://willowidentity.b2clogin.com/willowidentity.onmicrosoft.com/B2C_1A_SeamlessMigration_SignUpOrSignIn",
    "KnownAuthorities": [
      "willowidentity.b2clogin.com",
      "willowdevb2c.b2clogin.com",
      "willowinc.com"
    ],
    "B2CScopes": [
      "https://willowidentity.onmicrosoft.com/ebb53e69-b5be-454d-928e-a2e69cdcdfc7/Rules"
    ]
  },
  "AzureAdB2C": {
    "Instance": "https://willowidentity.b2clogin.com/",
    "Domain": "willowidentity.b2clogin.com",
    "Audience": "ebb53e69-b5be-454d-928e-a2e69cdcdfc7",
    "TenantId": "540c8929-ab7e-478f-b401-cbd037da66bd",
    "ClientId": "b5586a06-5e3d-4d2a-aee3-5f39abfcb34b",
    "Authority": "https://willowidentity.b2clogin.com/willowidentity.onmicrosoft.com/B2C_1A_SeamlessMigration_SignUpOrSignIn/v2.0/"
  },
  "AuthorizationAPI": {
    "BaseAddress": "http://authrz-api-svc",
    "TokenAudience": "api://0d9f112e-0b1e-4609-9fa7-e78066b0993a",
    "APITimeoutMilliseconds": "20000",
    "ExtensionName": "RulesEngine"
  },
  "Services": {
    "RulesEngineProcessor": {
      "BaseUri": "http://rules-engine-processor-svc",
      "TokenAudience": ""
    }
  },
  "OpenTelemetry": {
    "AddConsoleExporter": false,
    "AddHttpClientInstrumentation": true,
    "AddAspNetCoreInstrumentation": true
    //"AddSqlClientInstrumentation": true //this creates a huge amount of logs
  }
}
