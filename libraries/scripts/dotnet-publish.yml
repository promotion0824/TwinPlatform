parameters:
- name: srcProjectDir
  type: string
- name: buildConfiguration
  type: string
  default: Release
- name: zipAfterPublish
  type: boolean
  default: false

steps:
- task: DotNetCoreCLI@2
  displayName: Publish
  inputs:
    command: publish
    projects: '${{ parameters.srcProjectDir }}/*.csproj'
    publishWebProjects: False
    arguments: ' --no-build --no-restore --configuration ${{ parameters.buildConfiguration }} --output $(Build.ArtifactStagingDirectory)'
    zipAfterPublish: ${{ parameters.zipAfterPublish }}
